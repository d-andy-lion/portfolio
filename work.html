<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Andy Mund</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3C/svg%3E" type="image/svg+xml" />
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <nav class="nav">
          <ul class="nav-links">
            <li><a href="index.html">HOME</a></li>
            <li><a href="https://d-andy-lion.github.io/Portfolio/assets/media/Andy_Mund_CV_Nov2025.pdf" target="_blank" rel="noopener noreferrer">RESUME</a></li>
            <li><a href="work.html">WORK</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <div class="modal-overlay" id="contact-modal" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="contact-modal-title">
        <button class="modal-close" id="contact-close" aria-label="Close contact dialog">×</button>
        <h2 id="contact-modal-title">CONTACT</h2>
        <ul>
          <li><a href="mailto:mund.aubrey@outlook.com">Email</a></li>
          <li><a href="https://www.linkedin.com/in/andymund" target="_blank" rel="noopener noreferrer">LinkedIn</a></li>
          <li><a href="https://www.artstation.com/dandylion12" target="_blank" rel="noopener noreferrer">Artstation</a></li>
        </ul>
      </div>
    </div>
    </div>
    <div class="nav-spacer" aria-hidden="true"></div>
    <main class="work-section">
      <div class="container">
        <div class="gallery">
          <a class="gallery-link" href="assets/media/Gallery1.png">
            <img class="gallery-item" src="assets/media/Gallery1.png" alt="Project 1" />
          </a>
          <a class="gallery-link" href="assets/media/Gallery2.jpg">
            <img class="gallery-item" src="assets/media/Gallery2.jpg" alt="Project 2" />
          </a>
          <a class="gallery-link" href="assets/media/Cover.png">
            <img class="gallery-item" src="assets/media/Cover.png" alt="Project 3" />
          </a>
          <a class="gallery-link" href="assets/media/Cover.png">
            <img class="gallery-item" src="assets/media/Cover.png" alt="Project 4" />
          </a>
          <a class="gallery-link" href="assets/media/Cover.png">
            <img class="gallery-item" src="assets/media/Cover.png" alt="Project 5" />
          </a>
          <a class="gallery-link" href="assets/media/Cover.png">
            <img class="gallery-item" src="assets/media/Cover.png" alt="Project 6" />
          </a>
        </div>
      </div>
    </main>
    <div class="lightbox-overlay" id="lightbox" aria-hidden="true">
      <button class="lightbox-close" id="lightbox-close" aria-label="Close image">×</button>
      <img id="lightbox-img" src="" alt="" />
    </div>
    <script>
      (function(){
        var links = document.querySelectorAll('.gallery-link');
        var overlay = document.getElementById('lightbox');
        var img = document.getElementById('lightbox-img');
        var closeBtn = document.getElementById('lightbox-close');
        function openLightbox(e){
          e && e.preventDefault && e.preventDefault();
          var src = this.getAttribute('href') || this.querySelector('img').src;
          img.src = src;
          overlay.classList.add('open');
          overlay.setAttribute('aria-hidden','false');
          document.body.classList.add('no-scroll');
          closeBtn && closeBtn.focus();
        }
        function closeLightbox(){
          overlay.classList.remove('open');
          overlay.setAttribute('aria-hidden','true');
          document.body.classList.remove('no-scroll');
          img.src = '';
        }
        links.forEach(function(a){ a.addEventListener('click', openLightbox); });
        overlay.addEventListener('click', function(e){ if(e.target===overlay) closeLightbox(); });
        closeBtn && closeBtn.addEventListener('click', closeLightbox);
        document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeLightbox(); });
      })();
    </script>
    <script>
      // Add navigation (left/right arrows and click-side) to the existing lightbox
      (function(){
        var links = Array.prototype.slice.call(document.querySelectorAll('.gallery-link'));
        var overlay = document.getElementById('lightbox');
        var img = document.getElementById('lightbox-img');
        var closeBtn = document.getElementById('lightbox-close');

        if(!overlay || !img || !links.length) return;

        // keep track of current index on the overlay element
        function setCurrentIndex(i){
          if(i < 0) i = links.length - 1;
          if(i >= links.length) i = 0;
          overlay.dataset.currentIndex = String(i);
        }

        // when a gallery link is clicked, update the currentIndex so our navigation knows which is active
        links.forEach(function(a, idx){
          a.addEventListener('click', function(){
            setCurrentIndex(idx);
          });
        });

        function showAtIndex(i){
          if(links.length === 0) return;
          if(i < 0) i = links.length - 1;
          if(i >= links.length) i = 0;
          overlay.dataset.currentIndex = String(i);
          var src = links[i].getAttribute('href') || (links[i].querySelector('img') && links[i].querySelector('img').src);
          if(src) img.src = src;
        }

        function showNext(){ showAtIndex(Number(overlay.dataset.currentIndex || 0) + 1); }
        function showPrev(){ showAtIndex(Number(overlay.dataset.currentIndex || 0) - 1); }

        // capture-phase click handler on overlay: decide left/right/center action and stop propagation so existing close handler doesn't run
        overlay.addEventListener('click', function(e){
          if(e.target !== overlay) return; // ignore clicks on image or controls
          var rect = overlay.getBoundingClientRect();
          var x = e.clientX - rect.left;
          if(x < rect.width * 0.4){
            e.stopPropagation();
            showPrev();
          } else if(x > rect.width * 0.6){
            e.stopPropagation();
            showNext();
          } else {
            // center: allow existing handler to close (do nothing special)
          }
        }, true);

        // keyboard navigation
        document.addEventListener('keydown', function(e){
          if(!overlay.classList.contains('open')) return;
          if(e.key === 'ArrowRight') { showNext(); e.preventDefault(); }
          if(e.key === 'ArrowLeft') { showPrev(); e.preventDefault(); }
        });

      })();
    </script>
    <script>
      (function(){
        var trigger = document.getElementById('contact-trigger');
        var modal = document.getElementById('contact-modal');
        var closeBtn = document.getElementById('contact-close');
        function openModal(e){
          if(e) e.preventDefault();
          modal.classList.add('open');
          modal.setAttribute('aria-hidden','false');
          document.body.classList.add('no-scroll');
          var focusable = modal.querySelector('a,button,[tabindex]');
          if(focusable) focusable.focus();
        }
        function closeModal(){
          modal.classList.remove('open');
          modal.setAttribute('aria-hidden','true');
          document.body.classList.remove('no-scroll');
          if(trigger) trigger.focus();
        }
        if(trigger) trigger.addEventListener('click', openModal);
        if(closeBtn) closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', function(e){ if(e.target===modal) closeModal(); });
        document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeModal(); });
      })();
    </script>
  </body>
</html>